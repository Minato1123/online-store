import{_ as w,a as I}from"./check-box-outline.731cab50.js";import{d as q,r as p,s as y,l as N,o as T,f,q as i,a5 as $,g as C,p as l,k as e,J as x,b as u,K as d,N as _,a9 as K,v as O,t as k,O as M,H as P,I as R,U as H,V as J,_ as L}from"./index.2e401dab.js";import{P as W}from"./PCheckoutLayout.2241f34a.js";import{u as h}from"./orderData.60432e96.js";import"./getProductListFromShoppingCartByUserId.c011d6c8.js";import"./getProductListFromBoughtByOrderId.3e1bc5f5.js";const v=m=>(H("data-v-fe9e94b7"),m=m(),J(),m),j={class:"container"},z={class:"accept-container"},G={class:"title"},Q={class:"data-block"},X={class:"data-item"},Y=v(()=>e("div",null,"\u59D3\u540D",-1)),Z={class:"data-item"},ee=v(()=>e("div",null,"\u96FB\u8A71",-1)),te={class:"data-item"},oe=v(()=>e("div",null,"\u96FB\u5B50\u4FE1\u7BB1",-1)),ue={class:"check-container"},ae={class:"discount-input"},se=v(()=>e("button",{type:"button"}," \u5957\u7528 ",-1)),ne={class:"detail"},ie=q({__name:"Checkout",setup(m){const b=p(!1),B=p("");h();const{userId:V}=y(N()),{orderData:t}=y(h()),s=p();async function D(){s.value=(await $({id:V.value})).data}T(()=>{D()});const r=p(!1);function U(){s.value!=null&&(r.value?(t.value.name="",t.value.mobile="",t.value.email=""):(t.value.name=s.value.name,t.value.mobile=s.value.mobile,t.value.email=s.value.email),r.value=!r.value)}const A={text:"\u78BA\u8A8D\u7D50\u5E33",color:"main-product-color"};function S(){P.push({name:"delivery"})}return(le,o)=>{const g=w,E=I,c=R("FormKit");return C(),f(W,{target:"checkout"},{default:i(F=>[l(c,{"form-class":"$reset",type:"form",actions:!1,"incomplete-message":" ",onSubmit:S,onSubmitInvalid:o[8]||(o[8]=()=>{})},{default:i(()=>[e("div",j,[e("div",z,[e("div",G,[x(" \u6536\u4EF6\u8CC7\u6599 "),e("button",{type:"button",class:"same-user-btn",onClick:U},[u(r)?(C(),f(g,{key:0})):(C(),f(E,{key:1})),x("\u540C\u4F7F\u7528\u8005\u8CC7\u6599 ")])]),e("div",Q,[l(c,{modelValue:u(t).name,"onUpdate:modelValue":o[1]||(o[1]=a=>u(t).name=a),type:"text",name:"name",validation:"required:trim","validation-visibility":"live","validation-messages":{required:"\u8ACB\u8F38\u5165\u59D3\u540D"}},{wrapper:i(a=>[e("div",X,[Y,d(e("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>u(t).name=n),type:"text"},null,512),[[_,u(t).name]])])]),_:1},8,["modelValue"]),l(c,{modelValue:u(t).mobile,"onUpdate:modelValue":o[3]||(o[3]=a=>u(t).mobile=a),type:"text",name:"name",validation:"required|matches:/^[0-9]{10}$/","validation-visibility":"live","validation-messages":{required:"\u8ACB\u8F38\u5165\u96FB\u8A71",matches:"\u8ACB\u8F38\u5165\u6B63\u78BA\u7684\u96FB\u8A71\u865F\u78BC"}},{wrapper:i(a=>[e("div",Z,[ee,d(e("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>u(t).mobile=n),type:"text"},null,512),[[_,u(t).mobile]])])]),_:1},8,["modelValue"]),l(c,{modelValue:u(t).email,"onUpdate:modelValue":o[5]||(o[5]=a=>u(t).email=a),type:"text",name:"email",validation:"required|email","validation-visibility":"live","validation-messages":{required:"\u8ACB\u8F38\u5165\u96FB\u5B50\u4FE1\u7BB1",email:"\u8ACB\u8F38\u5165\u6B63\u78BA\u7684\u96FB\u5B50\u4FE1\u7BB1"}},{wrapper:i(a=>[e("div",te,[oe,d(e("input",{"onUpdate:modelValue":o[4]||(o[4]=n=>u(t).email=n),type:"text"},null,512),[[_,u(t).email]])])]),_:1},8,["modelValue"])])]),e("div",ue,[e("button",{type:"button",class:"discount-btn",onClick:o[6]||(o[6]=a=>b.value=!u(b))}," \u4F7F\u7528\u512A\u60E0\u4EE3\u78BC "),d(e("div",ae,[d(e("input",{"onUpdate:modelValue":o[7]||(o[7]=a=>O(B)?B.value=a:null),type:"text"},null,512),[[_,u(B)]]),se],512),[[K,u(b)]]),e("div",ne," \u5171 "+k(F.num)+" \u4EF6\u5546\u54C1\uFF5C\u7E3D\u91D1\u984D NT$ "+k(F.total),1),l(M,{class:"check-btn",type:"submit",content:A})])])]),_:2},1024)]),_:1})}}});const ve=L(ie,[["__scopeId","data-v-fe9e94b7"]]);export{ve as default};
